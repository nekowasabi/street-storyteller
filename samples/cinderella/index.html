<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Story Project Overview</title>
  <link rel="stylesheet" href="https://unpkg.com/vis-network@9.1.9/dist/vis-network.min.css">
  <script src="https://unpkg.com/vis-network@9.1.9/dist/vis-network.min.js"></script>
  <style>

    :root {
      --primary-color: #3498db;
      --secondary-color: #2ecc71;
      --background-color: #f5f6fa;
      --card-background: #ffffff;
      --text-color: #2c3e50;
      --border-color: #dfe6e9;
      --shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      background-color: var(--background-color);
      color: var(--text-color);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    header {
      text-align: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid var(--primary-color);
    }

    header h1 {
      color: var(--primary-color);
      font-size: 2rem;
    }

    section {
      margin-bottom: 2rem;
    }

    section h2 {
      color: var(--text-color);
      font-size: 1.5rem;
      margin-bottom: 1rem;
      padding-bottom: 0.5rem;
      border-bottom: 1px solid var(--border-color);
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 1rem;
    }

    .card {
      background: var(--card-background);
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: var(--shadow);
      transition: transform 0.2s;
    }

    .card:hover {
      transform: translateY(-2px);
    }

    .card h3 {
      color: var(--primary-color);
      margin-bottom: 0.5rem;
    }

    .card .meta {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .card .role {
      background: var(--secondary-color);
      color: white;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    .card .id {
      background: var(--border-color);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    .card .summary {
      color: #666;
      margin-bottom: 0.5rem;
    }

    .display-names {
      margin-bottom: 0.5rem;
    }

    .display-names .label,
    .references .label {
      font-weight: bold;
      margin-right: 0.5rem;
    }

    .tag {
      background: var(--background-color);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.85rem;
      margin-right: 0.25rem;
    }

    .file-path {
      margin-top: 0.5rem;
    }

    .file-path code {
      background: var(--background-color);
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    .timeline-list {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    .timeline-card {
      border-left: 4px solid var(--primary-color);
    }

    .timeline-card .scope {
      background: #9b59b6;
      color: white;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    .timeline-card .parent-timeline,
    .timeline-card .related-character {
      margin: 0.5rem 0;
      font-size: 0.9rem;
    }

    .timeline-events {
      margin: 1rem 0;
      padding: 1rem;
      background: var(--background-color);
      border-radius: 8px;
    }

    .timeline-events.empty {
      color: #999;
      font-style: italic;
    }

    .event-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .event-item {
      background: var(--card-background);
      padding: 1rem;
      border-radius: 8px;
      border-left: 3px solid var(--secondary-color);
    }

    .event-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .event-order {
      background: var(--primary-color);
      color: white;
      padding: 0.2rem 0.5rem;
      border-radius: 50%;
      font-size: 0.8rem;
      font-weight: bold;
      min-width: 1.5rem;
      text-align: center;
    }

    .event-title {
      font-weight: bold;
      color: var(--text-color);
    }

    .event-category {
      background: var(--border-color);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.75rem;
      margin-left: auto;
    }

    .event-summary {
      color: #666;
      font-size: 0.9rem;
      margin-bottom: 0.5rem;
    }

    .event-refs {
      margin: 0.25rem 0;
      font-size: 0.85rem;
    }

    .event-refs .label {
      font-weight: bold;
      margin-right: 0.5rem;
    }

    .event-causality {
      margin: 0.25rem 0;
      font-size: 0.85rem;
    }

    .event-causality .label {
      font-weight: bold;
      margin-right: 0.5rem;
    }

    .ref.chapter {
      background: #fff3e0;
      color: #e65100;
    }

    .ref.causality {
      background: #fce4ec;
      color: #c2185b;
    }

    .manuscript-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .manuscript-item {
      background: var(--card-background);
      border-radius: 8px;
      padding: 1.5rem;
      box-shadow: var(--shadow);
    }

    .manuscript-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .manuscript-header h3 {
      color: var(--primary-color);
    }

    .manuscript-header .path {
      background: var(--background-color);
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    .ref {
      display: inline-block;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.85rem;
      margin-right: 0.25rem;
    }

    .ref.character {
      background: #e3f2fd;
      color: #1565c0;
    }

    .ref.setting {
      background: #e8f5e9;
      color: #2e7d32;
    }

    .ref.foreshadowing {
      background: #fff3e0;
      color: #e65100;
    }

    .ref.foreshadowing.planted {
      background: #fff3e0;
      color: #e65100;
      border-left: 3px solid #e67e22;
    }

    .ref.foreshadowing.partially_resolved {
      background: #fffde7;
      color: #f9a825;
      border-left: 3px solid #f1c40f;
    }

    .ref.foreshadowing.resolved {
      background: #e8f5e9;
      color: #2e7d32;
      border-left: 3px solid #27ae60;
    }

    .ref.foreshadowing.abandoned {
      background: #eceff1;
      color: #607d8b;
      border-left: 3px solid #95a5a6;
    }

    .empty {
      color: #999;
      font-style: italic;
    }

    .no-refs {
      color: #999;
      font-style: italic;
    }

    /* Foreshadowing styles */
    .foreshadowing-stats {
      display: flex;
      gap: 1.5rem;
      margin-bottom: 1rem;
      padding: 1rem;
      background: var(--card-background);
      border-radius: 8px;
      box-shadow: var(--shadow);
    }

    .foreshadowing-stats .stat {
      font-size: 0.9rem;
    }

    .foreshadowing-card .type {
      background: #9b59b6;
      color: white;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    .foreshadowing-card .status {
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    .foreshadowing-card .importance {
      background: #f39c12;
      color: white;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    .foreshadowing-card.status-planted {
      border-left: 4px solid #e67e22;
    }

    .foreshadowing-card.status-planted .status {
      background: #e67e22;
      color: white;
    }

    .foreshadowing-card.status-partially_resolved {
      border-left: 4px solid #f1c40f;
    }

    .foreshadowing-card.status-partially_resolved .status {
      background: #f1c40f;
      color: #333;
    }

    .foreshadowing-card.status-resolved {
      border-left: 4px solid #27ae60;
    }

    .foreshadowing-card.status-resolved .status {
      background: #27ae60;
      color: white;
    }

    .foreshadowing-card.status-abandoned {
      border-left: 4px solid #95a5a6;
    }

    .foreshadowing-card.status-abandoned .status {
      background: #95a5a6;
      color: white;
    }

    .planting-info {
      margin: 0.5rem 0;
      font-size: 0.9rem;
    }

    .resolution-info {
      margin: 0.5rem 0;
      padding: 0.5rem;
      background: var(--background-color);
      border-radius: 4px;
    }

    .resolution-item {
      display: flex;
      gap: 0.5rem;
      align-items: center;
      margin-bottom: 0.25rem;
      font-size: 0.85rem;
    }

    .resolution-item .chapter {
      background: #fff3e0;
      color: #e65100;
      padding: 0.1rem 0.3rem;
      border-radius: 3px;
    }

    .resolution-item .completeness {
      background: var(--secondary-color);
      color: white;
      padding: 0.1rem 0.3rem;
      border-radius: 3px;
      font-weight: bold;
    }

    .related-entities {
      margin: 0.5rem 0;
      font-size: 0.85rem;
    }

    .related-characters,
    .related-settings {
      margin-bottom: 0.25rem;
    }

    footer {
      text-align: center;
      margin-top: 2rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border-color);
      color: #999;
      font-size: 0.9rem;
    }


    /* Graph Styles */
    .graphs {
      margin-bottom: 2rem;
    }

    .graph-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
      gap: 1.5rem;
    }

    .graph-panel {
      background: var(--card-background);
      border-radius: 8px;
      padding: 1rem;
      box-shadow: var(--shadow);
    }

    .graph-panel h3 {
      color: var(--primary-color);
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }

    .graph-canvas {
      width: 100%;
      height: 400px;
      border: 1px solid var(--border-color);
      border-radius: 4px;
      background: #fafafa;
    }

    /* グラフのノードホバー時のカーソル */
    .graph-canvas canvas {
      cursor: pointer;
    }


    /* Consistency Check Styles */
    .consistency-ok {
      color: #27ae60;
      font-weight: bold;
      padding: 1rem;
      background: #e8f5e9;
      border-radius: 8px;
      text-align: center;
    }

    .issue-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .issue-item {
      background: var(--card-background);
      border-radius: 8px;
      padding: 1rem;
      box-shadow: var(--shadow);
    }

    .issue-warning {
      border-left: 4px solid #f39c12;
    }

    .issue-error {
      border-left: 4px solid #e74c3c;
    }

    .issue-info {
      border-left: 4px solid #3498db;
    }

    .issue-header {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .issue-severity {
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: bold;
      text-transform: uppercase;
    }

    .severity-warning {
      background: #f39c12;
      color: white;
    }

    .severity-error {
      background: #e74c3c;
      color: white;
    }

    .severity-info {
      background: #3498db;
      color: white;
    }

    .issue-type {
      background: var(--border-color);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
    }

    .issue-message {
      color: var(--text-color);
      margin-bottom: 0.5rem;
    }

    .issue-suggestion {
      color: #666;
      font-size: 0.9rem;
      font-style: italic;
    }

  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Story Project Overview</h1>
    </header>

    <main>
      <section class="graphs">
        <h2>Visualizations</h2>
        <div class="graph-container">
          
      <div class="graph-panel">
        <h3>Character Relationships</h3>
        <div id="character-graph" class="graph-canvas"></div>
      </div>
          
      <div class="graph-panel">
        <h3>Timeline Causality</h3>
        <div id="timeline-graph" class="graph-canvas"></div>
      </div>
          
      <div class="graph-panel">
        <h3>Foreshadowing Flow</h3>
        <div id="foreshadowing-graph" class="graph-canvas"></div>
      </div>
        </div>
      </section>

      <section class="characters">
        <h2>Characters</h2>
        <div class="card-grid">
        <div class="card character-card">
          <h3>アナスタシア</h3>
          <div class="meta">
            <span class="role">supporting</span>
            <span class="id">stepsister_younger</span>
          </div>
          <p class="summary">わがままな妹義姉</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">アナスタシア</span>
          </div>
          <div class="file-path">
            <code>src/characters/stepsister_younger.ts</code>
          </div>
        </div>

        <div class="card character-card">
          <h3>太郎</h3>
          <div class="meta">
            <span class="role">protagonist</span>
            <span class="id">taro</span>
          </div>
          <p class="summary">主人公の少年</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">太郎</span>
          </div>
          <div class="file-path">
            <code>src/characters/taro.ts</code>
          </div>
        </div>

        <div class="card character-card">
          <h3>ドリゼラ</h3>
          <div class="meta">
            <span class="role">supporting</span>
            <span class="id">stepsister_elder</span>
          </div>
          <p class="summary">傲慢な姉義姉</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">ドリゼラ</span>
          </div>
          <div class="file-path">
            <code>src/characters/stepsister_elder.ts</code>
          </div>
        </div>

        <div class="card character-card">
          <h3>次郎</h3>
          <div class="meta">
            <span class="role">supporting</span>
            <span class="id">jiro</span>
          </div>
          <p class="summary">太郎の弟</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">次郎</span>
          </div>
          <div class="file-path">
            <code>src/characters/jiro.ts</code>
          </div>
        </div>

        <div class="card character-card">
          <h3>妖精のおばあさん</h3>
          <div class="meta">
            <span class="role">supporting</span>
            <span class="id">fairy_godmother</span>
          </div>
          <p class="summary">シンデレラを助ける魔法使い</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">妖精のおばあさん</span>
          </div>
          <div class="file-path">
            <code>src/characters/fairy_godmother.ts</code>
          </div>
        </div>

        <div class="card character-card">
          <h3>John</h3>
          <div class="meta">
            <span class="role">supporting</span>
            <span class="id">john</span>
          </div>
          <p class="summary">Johnという名前の登場人物</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">John</span>
          </div>
          <div class="file-path">
            <code>src/characters/john.ts</code>
          </div>
        </div>

        <div class="card character-card">
          <h3>シンデレラ</h3>
          <div class="meta">
            <span class="role">protagonist</span>
            <span class="id">cinderella</span>
          </div>
          <p class="summary">継母にいじめられながらも優しさを失わない少女</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">シンデレラ</span>
          </div>
          <div class="file-path">
            <code>src/characters/cinderella.ts</code>
          </div>
        </div>

        <div class="card character-card">
          <h3>王子</h3>
          <div class="meta">
            <span class="role">protagonist</span>
            <span class="id">prince</span>
          </div>
          <p class="summary">真実の愛を求める王国の王子</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">王子</span>
          </div>
          <div class="file-path">
            <code>src/characters/prince.ts</code>
          </div>
        </div>

        <div class="card character-card">
          <h3>国王</h3>
          <div class="meta">
            <span class="role">guest</span>
            <span class="id">king</span>
          </div>
          <p class="summary">王子の父、威厳ある国王</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">国王</span>
          </div>
          <div class="file-path">
            <code>src/characters/king.ts</code>
          </div>
        </div>

        <div class="card character-card">
          <h3>継母</h3>
          <div class="meta">
            <span class="role">antagonist</span>
            <span class="id">stepmother</span>
          </div>
          <p class="summary">シンデレラを虐げる冷酷な継母</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">継母</span>
          </div>
          <div class="file-path">
            <code>src/characters/stepmother.ts</code>
          </div>
        </div>

        <div class="card character-card">
          <h3>The protagonist of our story</h3>
          <div class="meta">
            <span class="role">protagonist</span>
            <span class="id">main_character</span>
          </div>
          <p class="summary">Template character</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">The protagonist of our story</span>
          </div>
          <div class="file-path">
            <code>src/characters/main_character.ts</code>
          </div>
        </div></div>
      </section>

      <section class="settings">
        <h2>Settings</h2>
        <div class="card-grid">
        <div class="card setting-card">
          <h3>フェアリーテイル王国</h3>
          <div class="meta">
            <span class="id">kingdom</span>
          </div>
          <p class="summary">古き良き伝統と魔法が共存する王国。王子と姫の物語が生まれる舞台。</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">王国</span> <span class="tag">フェアリーテイル</span> <span class="tag">王都</span>
          </div>
          <div class="file-path">
            <code>src/settings/kingdom.ts</code>
          </div>
        </div>

        <div class="card setting-card">
          <h3>屋敷</h3>
          <div class="meta">
            <span class="id">mansion</span>
          </div>
          <p class="summary">シンデレラが継母と暮らす屋敷。</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">屋敷</span> <span class="tag">邸宅</span> <span class="tag">お屋敷</span>
          </div>
          <div class="file-path">
            <code>src/settings/mansion.ts</code>
          </div>
        </div>

        <div class="card setting-card">
          <h3>王城</h3>
          <div class="meta">
            <span class="id">castle</span>
          </div>
          <p class="summary">王族が住む壮麗な城。舞踏会の会場。</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">城</span> <span class="tag">王城</span> <span class="tag">お城</span>
          </div>
          <div class="file-path">
            <code>src/settings/castle.ts</code>
          </div>
        </div>

        <div class="card setting-card">
          <h3>妖精魔法</h3>
          <div class="meta">
            <span class="id">magic_system</span>
          </div>
          <p class="summary">妖精が使う魔法のシステム。真夜中に解ける制約がある。</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">魔法</span> <span class="tag">妖精魔法</span>
          </div>
          <div class="file-path">
            <code>src/settings/magic_system.ts</code>
          </div>
        </div>

        <div class="card setting-card">
          <h3>ガラスの靴</h3>
          <div class="meta">
            <span class="id">glass_slipper</span>
          </div>
          <p class="summary">妖精の魔法で作られた特別な靴。持ち主を証明する鍵。</p>
          <div class="display-names">
            <span class="label">Names:</span>
            <span class="tag">ガラスの靴</span>
          </div>
          <div class="file-path">
            <code>src/settings/glass_slipper.ts</code>
          </div>
        </div></div>
      </section>

      <section class="timelines">
        <h2>Timelines</h2>
        <div class="timeline-list">
        <div class="card timeline-card">
          <h3>シンデレラ物語タイムライン</h3>
          <div class="meta">
            <span class="scope">story</span>
            <span class="id">main_story</span>
          </div>
          
          
          <p class="summary">シンデレラの物語全体の時系列</p>
          <div class="timeline-events event-list">
      <div class="event-item">
        <div class="event-header">
          <span class="event-order">1</span>
          <span class="event-title">実母の死</span>
          <span class="event-category">backstory</span>
        </div>
        <div class="event-summary">シンデレラの実母が亡くなる</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">mansion</span></div>
        
        
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">2</span>
          <span class="event-title">父の再婚</span>
          <span class="event-category">backstory</span>
        </div>
        <div class="event-summary">父が継母と再婚し、義姉たちが家に来る</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">stepmother</span> <span class="ref character">stepsister_elder</span> <span class="ref character">stepsister_younger</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">mansion</span></div>
        
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_mother_death</span></div>
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">3</span>
          <span class="event-title">父の死</span>
          <span class="event-category">backstory</span>
        </div>
        <div class="event-summary">父が亡くなり、シンデレラは継母のもとに残される</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">stepmother</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">mansion</span></div>
        
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_remarriage</span></div>
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">4</span>
          <span class="event-title">継母による虐待開始</span>
          <span class="event-category">character_event</span>
        </div>
        <div class="event-summary">継母による使用人扱い・虐待が始まる</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">stepmother</span> <span class="ref character">stepsister_elder</span> <span class="ref character">stepsister_younger</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">mansion</span></div>
        <div class="event-refs"><span class="label">Chapters:</span> <span class="ref chapter">chapter_01</span></div>
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_father_death</span></div>
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">5</span>
          <span class="event-title">舞踏会の告知</span>
          <span class="event-category">plot_point</span>
        </div>
        <div class="event-summary">王子の花嫁探しの舞踏会が告知される</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">prince</span> <span class="ref character">king</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">kingdom</span> <span class="ref setting">castle</span></div>
        <div class="event-refs"><span class="label">Chapters:</span> <span class="ref chapter">chapter_01</span></div>
        
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">6</span>
          <span class="event-title">妖精登場</span>
          <span class="event-category">plot_point</span>
        </div>
        <div class="event-summary">シンデレラの前にフェアリーゴッドマザーが現れる</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">fairy_godmother</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">mansion</span></div>
        <div class="event-refs"><span class="label">Chapters:</span> <span class="ref chapter">chapter_02</span></div>
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_mistreatment</span> <span class="ref causality">event_ball_announcement</span></div>
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">7</span>
          <span class="event-title">魔法による変身</span>
          <span class="event-category">plot_point</span>
        </div>
        <div class="event-summary">魔法でドレスとガラスの靴を与えられる</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">fairy_godmother</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">mansion</span></div>
        <div class="event-refs"><span class="label">Chapters:</span> <span class="ref chapter">chapter_02</span></div>
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_fairy_appears</span></div>
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">8</span>
          <span class="event-title">王子との踊り</span>
          <span class="event-category">plot_point</span>
        </div>
        <div class="event-summary">舞踏会で王子とシンデレラが踊り、惹かれ合う</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">prince</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">castle</span></div>
        <div class="event-refs"><span class="label">Chapters:</span> <span class="ref chapter">chapter_03</span></div>
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_transformation</span></div>
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">9</span>
          <span class="event-title">真夜中の逃走</span>
          <span class="event-category">plot_point</span>
        </div>
        <div class="event-summary">12時の鐘が鳴り、魔法が解ける前に逃げ出す</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">prince</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">castle</span></div>
        <div class="event-refs"><span class="label">Chapters:</span> <span class="ref chapter">chapter_03</span></div>
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_ball_dance</span></div>
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">10</span>
          <span class="event-title">ガラスの靴を落とす</span>
          <span class="event-category">plot_point</span>
        </div>
        <div class="event-summary">階段でガラスの靴を落としていく</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">castle</span></div>
        <div class="event-refs"><span class="label">Chapters:</span> <span class="ref chapter">chapter_04</span></div>
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_midnight_escape</span></div>
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">11</span>
          <span class="event-title">王子の捜索</span>
          <span class="event-category">plot_point</span>
        </div>
        <div class="event-summary">王子がガラスの靴に合う娘を探して国中を回る</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">prince</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">kingdom</span></div>
        <div class="event-refs"><span class="label">Chapters:</span> <span class="ref chapter">chapter_05</span></div>
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_glass_slipper_left</span></div>
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">12</span>
          <span class="event-title">ガラスの靴が合う</span>
          <span class="event-category">climax</span>
        </div>
        <div class="event-summary">シンデレラの足にガラスの靴がぴったり合う</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">prince</span> <span class="ref character">stepmother</span> <span class="ref character">stepsister_elder</span> <span class="ref character">stepsister_younger</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">mansion</span></div>
        <div class="event-refs"><span class="label">Chapters:</span> <span class="ref chapter">chapter_05</span></div>
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_prince_search</span></div>
        
      </div>

      <div class="event-item">
        <div class="event-header">
          <span class="event-order">13</span>
          <span class="event-title">結婚・ハッピーエンド</span>
          <span class="event-category">resolution</span>
        </div>
        <div class="event-summary">王子とシンデレラが結婚し、幸せに暮らす</div>
        <div class="event-refs"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">prince</span></div>
        <div class="event-refs"><span class="label">Settings:</span> <span class="ref setting">castle</span> <span class="ref setting">kingdom</span></div>
        <div class="event-refs"><span class="label">Chapters:</span> <span class="ref chapter">chapter_06</span></div>
        <div class="event-causality caused-by"><span class="label">Caused by:</span> <span class="ref causality">event_slipper_fits</span></div>
        
      </div></div>
          <div class="file-path">
            <code>src/timelines/main_story_timeline.ts</code>
          </div>
        </div></div>
      </section>

      <section class="foreshadowings">
        <h2>Foreshadowings</h2>
        
        <div class="foreshadowing-stats">
          <span class="stat">Total: <strong>3</strong></span>
          <span class="stat">Planted: <strong>0</strong></span>
          <span class="stat">Resolved: <strong>3</strong></span>
          <span class="stat">Resolution Rate: <strong>100%</strong></span>
        </div><div class="card-grid">
        <div class="card foreshadowing-card status-resolved">
          <h3>シンデレラの優しさ</h3>
          <div class="meta">
            <span class="type">symbol</span>
            <span class="status">resolved</span>
            <span class="importance">minor</span>
            <span class="id">kind_heart</span>
          </div>
          <p class="summary">虐待されても優しさを失わないシンデレラの美徳。最終的に幸せを掴む資格の象徴</p>
          <div class="planting-info">
            <span class="label">Planted:</span> chapter_01
          </div>
          <div class="resolution-info">
      <div class="resolution-item">
        <span class="chapter">chapter_06</span>
        <span class="description">優しい心を持ち続けたシンデレラが王子と結ばれ、幸せを掴む</span>
        <span class="completeness">100%</span>
      </div></div>
          
      <div class="related-entities">
        <div class="related-characters"><span class="label">Characters:</span> <span class="ref character">cinderella</span></div>
        <div class="related-settings"><span class="label">Settings:</span> <span class="ref setting">mansion</span></div>
      </div>
          <div class="file-path">
            <code>src/foreshadowings/kind_heart.ts</code>
          </div>
        </div>

        <div class="card foreshadowing-card status-resolved">
          <h3>真夜中の期限</h3>
          <div class="meta">
            <span class="type">prophecy</span>
            <span class="status">resolved</span>
            <span class="importance">major</span>
            <span class="id">midnight_deadline</span>
          </div>
          <p class="summary">12時で魔法が解けるという制約。緊張感を生み、逃走の原因となる</p>
          <div class="planting-info">
            <span class="label">Planted:</span> chapter_02
          </div>
          <div class="resolution-info">
      <div class="resolution-item">
        <span class="chapter">chapter_03</span>
        <span class="description">12時の鐘が鳴り、シンデレラは慌てて逃げ出す</span>
        <span class="completeness">100%</span>
      </div></div>
          
      <div class="related-entities">
        <div class="related-characters"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">fairy_godmother</span></div>
        <div class="related-settings"><span class="label">Settings:</span> <span class="ref setting">castle</span></div>
      </div>
          <div class="file-path">
            <code>src/foreshadowings/midnight_deadline.ts</code>
          </div>
        </div>

        <div class="card foreshadowing-card status-resolved">
          <h3>ガラスの靴</h3>
          <div class="meta">
            <span class="type">chekhov</span>
            <span class="status">resolved</span>
            <span class="importance">major</span>
            <span class="id">glass_slipper</span>
          </div>
          <p class="summary">魔法で与えられた特別な靴。後にシンデレラを見つける決め手となる</p>
          <div class="planting-info">
            <span class="label">Planted:</span> chapter_02
          </div>
          <div class="resolution-info">
      <div class="resolution-item">
        <span class="chapter">chapter_05</span>
        <span class="description">シンデレラの足にガラスの靴がぴったり合い、正体が判明する</span>
        <span class="completeness">100%</span>
      </div></div>
          
      <div class="related-entities">
        <div class="related-characters"><span class="label">Characters:</span> <span class="ref character">cinderella</span> <span class="ref character">fairy_godmother</span> <span class="ref character">prince</span></div>
        <div class="related-settings"><span class="label">Settings:</span> <span class="ref setting">castle</span> <span class="ref setting">mansion</span></div>
      </div>
          <div class="file-path">
            <code>src/foreshadowings/glass_slipper.ts</code>
          </div>
        </div></div>
      </section>

      <section class="manuscripts">
        <h2>Manuscripts</h2>
        <div class="manuscript-list">
        <div class="manuscript-item">
          <div class="manuscript-header">
            <h3>&quot;ガラスの靴&quot;</h3>
            <code class="path">manuscripts/chapter04.md</code>
          </div>
          <div class="references">
            <span class="label">References:</span>
            <span class="ref character">stepsister_younger (2)</span> <span class="ref character">stepsister_elder (2)</span> <span class="ref character">cinderella (10)</span> <span class="ref character">prince (6)</span> <span class="ref character">king (2)</span> <span class="ref character">stepmother (8)</span> <span class="ref setting">kingdom (3)</span> <span class="ref setting">mansion (2)</span> <span class="ref setting">castle (4)</span> <span class="ref setting">glass_slipper (8)</span> <span class="ref foreshadowing resolved">glass_slipper (8)</span>
          </div>
        </div>

        <div class="manuscript-item">
          <div class="manuscript-header">
            <h3>&quot;舞踏会への招待&quot;</h3>
            <code class="path">manuscripts/chapter02.md</code>
          </div>
          <div class="references">
            <span class="label">References:</span>
            <span class="ref character">stepsister_younger (2)</span> <span class="ref character">stepsister_elder (2)</span> <span class="ref character">fairy_godmother (6)</span> <span class="ref character">cinderella (6)</span> <span class="ref character">prince (2)</span> <span class="ref character">stepmother (4)</span> <span class="ref setting">kingdom (1)</span> <span class="ref setting">mansion (2)</span> <span class="ref setting">magic_system (5)</span> <span class="ref setting">glass_slipper (4)</span> <span class="ref foreshadowing resolved">midnight_deadline (2)</span> <span class="ref foreshadowing resolved">glass_slipper (4)</span>
          </div>
        </div>

        <div class="manuscript-item">
          <div class="manuscript-header">
            <h3>&quot;真夜中の魔法&quot;</h3>
            <code class="path">manuscripts/chapter03.md</code>
          </div>
          <div class="references">
            <span class="label">References:</span>
            <span class="ref character">fairy_godmother (2)</span> <span class="ref character">cinderella (12)</span> <span class="ref character">prince (6)</span> <span class="ref setting">castle (4)</span> <span class="ref setting">magic_system (6)</span> <span class="ref setting">glass_slipper (6)</span> <span class="ref foreshadowing resolved">glass_slipper (6)</span>
          </div>
        </div>

        <div class="manuscript-item">
          <div class="manuscript-header">
            <h3>&quot;灰かぶり姫の日常&quot;</h3>
            <code class="path">manuscripts/chapter01.md</code>
          </div>
          <div class="references">
            <span class="label">References:</span>
            <span class="ref character">stepsister_younger (4)</span> <span class="ref character">stepsister_elder (4)</span> <span class="ref character">cinderella (8)</span> <span class="ref character">stepmother (2)</span> <span class="ref setting">mansion (6)</span>
          </div>
        </div></div>
      </section>

      <section class="consistency">
        <h2>整合性チェック</h2>
        <div class="issue-list">
      <div class="issue-item issue-warning">
        <div class="issue-header">
          <span class="issue-severity severity-warning">warning</span>
          <span class="issue-type">orphan_character</span>
        </div>
        <p class="issue-message">キャラクター &#039;太郎&#039; (taro) は他のキャラクターと関係がありません</p>
        <p class="issue-suggestion">他のキャラクターとの関係性を追加してください</p>
      </div>

      <div class="issue-item issue-warning">
        <div class="issue-header">
          <span class="issue-severity severity-warning">warning</span>
          <span class="issue-type">orphan_character</span>
        </div>
        <p class="issue-message">キャラクター &#039;次郎&#039; (jiro) は他のキャラクターと関係がありません</p>
        <p class="issue-suggestion">他のキャラクターとの関係性を追加してください</p>
      </div>

      <div class="issue-item issue-warning">
        <div class="issue-header">
          <span class="issue-severity severity-warning">warning</span>
          <span class="issue-type">orphan_character</span>
        </div>
        <p class="issue-message">キャラクター &#039;John&#039; (john) は他のキャラクターと関係がありません</p>
        <p class="issue-suggestion">他のキャラクターとの関係性を追加してください</p>
      </div>

      <div class="issue-item issue-warning">
        <div class="issue-header">
          <span class="issue-severity severity-warning">warning</span>
          <span class="issue-type">orphan_character</span>
        </div>
        <p class="issue-message">キャラクター &#039;The protagonist of our story&#039; (main_character) は他のキャラクターと関係がありません</p>
        <p class="issue-suggestion">他のキャラクターとの関係性を追加してください</p>
      </div></div>
      </section>
    </main>

    <footer>
      <p>Generated by storyteller</p>
    </footer>
  </div>
  
  <script>
    // グラフ初期化
    document.addEventListener('DOMContentLoaded', function() {
      // キャラクター関係グラフ
      const characterContainer = document.getElementById('character-graph');
      if (characterContainer) {
        const characterData = {"nodes":[{"id":"stepsister_younger","label":"アナスタシア","group":"supporting","title":"アナスタシア\nわがままな妹義姉"},{"id":"taro","label":"太郎","group":"protagonist","title":"太郎\n主人公の少年"},{"id":"stepsister_elder","label":"ドリゼラ","group":"supporting","title":"ドリゼラ\n傲慢な姉義姉"},{"id":"jiro","label":"次郎","group":"supporting","title":"次郎\n太郎の弟"},{"id":"fairy_godmother","label":"妖精のおばあさん","group":"supporting","title":"妖精のおばあさん\nシンデレラを助ける魔法使い"},{"id":"john","label":"John","group":"supporting","title":"John\nJohnという名前の登場人物"},{"id":"cinderella","label":"シンデレラ","group":"protagonist","title":"シンデレラ\n継母にいじめられながらも優しさを失わない少女"},{"id":"prince","label":"王子","group":"protagonist","title":"王子\n真実の愛を求める王国の王子"},{"id":"king","label":"国王","group":"guest","title":"国王\n王子の父、威厳ある国王"},{"id":"stepmother","label":"継母","group":"antagonist","title":"継母\nシンデレラを虐げる冷酷な継母"},{"id":"main_character","label":"The protagonist of our story","group":"protagonist","title":"The protagonist of our story\nTemplate character"}],"edges":[{"from":"stepsister_younger","to":"cinderella","label":"enemy","color":{"color":"#e74c3c"},"width":2},{"from":"stepsister_younger","to":"stepmother","label":"ally","color":{"color":"#27ae60"},"width":2},{"from":"stepsister_younger","to":"stepsister_elder","label":"ally","color":{"color":"#27ae60"},"width":2},{"from":"stepsister_elder","to":"cinderella","label":"enemy","color":{"color":"#e74c3c"},"width":2},{"from":"stepsister_elder","to":"stepmother","label":"ally","color":{"color":"#27ae60"},"width":2},{"from":"fairy_godmother","to":"cinderella","label":"ally","color":{"color":"#27ae60"},"width":2},{"from":"cinderella","to":"stepmother","label":"enemy","color":{"color":"#e74c3c"},"width":2},{"from":"cinderella","to":"prince","label":"romantic","color":{"color":"#e91e63"},"width":2},{"from":"prince","to":"king","label":"respect","color":{"color":"#3498db"},"width":2}],"options":{"nodes":{"shape":"dot","font":{"size":14}},"edges":{"smooth":{"type":"curvedCW"}},"physics":{"stabilization":{"iterations":100}},"interaction":{"hover":true,"tooltipDelay":200}}};
        const characterNetwork = new vis.Network(
          characterContainer,
          { nodes: new vis.DataSet(characterData.nodes), edges: new vis.DataSet(characterData.edges) },
          characterData.options || {}
        );
      }

      // タイムライン因果グラフ
      const timelineContainer = document.getElementById('timeline-graph');
      if (timelineContainer) {
        const timelineData = {"nodes":[{"id":"event_mother_death","label":"実母の死","title":"実母の死\nシンデレラの実母が亡くなる\nOrder: 1","group":"backstory","color":{"background":"#95a5a6","border":"#2c3e50"}},{"id":"event_remarriage","label":"父の再婚","title":"父の再婚\n父が継母と再婚し、義姉たちが家に来る\nOrder: 2","group":"backstory","color":{"background":"#95a5a6","border":"#2c3e50"}},{"id":"event_father_death","label":"父の死","title":"父の死\n父が亡くなり、シンデレラは継母のもとに残される\nOrder: 3","group":"backstory","color":{"background":"#95a5a6","border":"#2c3e50"}},{"id":"event_mistreatment","label":"継母による虐待開始","title":"継母による虐待開始\n継母による使用人扱い・虐待が始まる\nOrder: 4","group":"character_event","color":{"background":"#27ae60","border":"#2c3e50"}},{"id":"event_ball_announcement","label":"舞踏会の告知","title":"舞踏会の告知\n王子の花嫁探しの舞踏会が告知される\nOrder: 5","group":"plot_point","color":{"background":"#3498db","border":"#2c3e50"}},{"id":"event_fairy_appears","label":"妖精登場","title":"妖精登場\nシンデレラの前にフェアリーゴッドマザーが現れる\nOrder: 6","group":"plot_point","color":{"background":"#3498db","border":"#2c3e50"}},{"id":"event_transformation","label":"魔法による変身","title":"魔法による変身\n魔法でドレスとガラスの靴を与えられる\nOrder: 7","group":"plot_point","color":{"background":"#3498db","border":"#2c3e50"}},{"id":"event_ball_dance","label":"王子との踊り","title":"王子との踊り\n舞踏会で王子とシンデレラが踊り、惹かれ合う\nOrder: 8","group":"plot_point","color":{"background":"#3498db","border":"#2c3e50"}},{"id":"event_midnight_escape","label":"真夜中の逃走","title":"真夜中の逃走\n12時の鐘が鳴り、魔法が解ける前に逃げ出す\nOrder: 9","group":"plot_point","color":{"background":"#3498db","border":"#2c3e50"}},{"id":"event_glass_slipper_left","label":"ガラスの靴を落とす","title":"ガラスの靴を落とす\n階段でガラスの靴を落としていく\nOrder: 10","group":"plot_point","color":{"background":"#3498db","border":"#2c3e50"}},{"id":"event_prince_search","label":"王子の捜索","title":"王子の捜索\n王子がガラスの靴に合う娘を探して国中を回る\nOrder: 11","group":"plot_point","color":{"background":"#3498db","border":"#2c3e50"}},{"id":"event_slipper_fits","label":"ガラスの靴が合う","title":"ガラスの靴が合う\nシンデレラの足にガラスの靴がぴったり合う\nOrder: 12","group":"climax","color":{"background":"#e74c3c","border":"#2c3e50"}},{"id":"event_happy_ending","label":"結婚・ハッピーエンド","title":"結婚・ハッピーエンド\n王子とシンデレラが結婚し、幸せに暮らす\nOrder: 13","group":"resolution","color":{"background":"#1abc9c","border":"#2c3e50"}}],"edges":[{"from":"event_mother_death","to":"event_remarriage","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_remarriage","to":"event_father_death","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_father_death","to":"event_mistreatment","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_mistreatment","to":"event_fairy_appears","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_ball_announcement","to":"event_fairy_appears","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_fairy_appears","to":"event_transformation","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_transformation","to":"event_ball_dance","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_ball_dance","to":"event_midnight_escape","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_midnight_escape","to":"event_glass_slipper_left","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_glass_slipper_left","to":"event_prince_search","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_prince_search","to":"event_slipper_fits","arrows":"to","color":{"color":"#34495e"},"width":2},{"from":"event_slipper_fits","to":"event_happy_ending","arrows":"to","color":{"color":"#34495e"},"width":2}],"options":{"nodes":{"shape":"box","font":{"size":12}},"edges":{"smooth":{"type":"cubicBezier"}},"physics":{"enabled":true},"interaction":{"hover":true}}};
        const timelineNetwork = new vis.Network(
          timelineContainer,
          { nodes: new vis.DataSet(timelineData.nodes), edges: new vis.DataSet(timelineData.edges) },
          timelineData.options || {}
        );
      }

      // 伏線フローグラフ
      const foreshadowingContainer = document.getElementById('foreshadowing-graph');
      if (foreshadowingContainer) {
        const foreshadowingData = {"nodes":[{"id":"kind_heart","label":"シンデレラの優しさ","title":"シンデレラの優しさ\n虐待されても優しさを失わないシンデレラの美徳。最終的に幸せを掴む資格の象徴\nStatus: resolved","shape":"ellipse","color":{"background":"#27ae60","border":"#2c3e50"}},{"id":"chapter_chapter_01","label":"chapter_01","title":"Chapter: chapter_01","shape":"box","color":{"background":"#ecf0f1","border":"#34495e"}},{"id":"chapter_chapter_06","label":"chapter_06","title":"Chapter: chapter_06","shape":"box","color":{"background":"#ecf0f1","border":"#34495e"}},{"id":"midnight_deadline","label":"真夜中の期限","title":"真夜中の期限\n12時で魔法が解けるという制約。緊張感を生み、逃走の原因となる\nStatus: resolved","shape":"star","color":{"background":"#27ae60","border":"#2c3e50"}},{"id":"chapter_chapter_02","label":"chapter_02","title":"Chapter: chapter_02","shape":"box","color":{"background":"#ecf0f1","border":"#34495e"}},{"id":"chapter_chapter_03","label":"chapter_03","title":"Chapter: chapter_03","shape":"box","color":{"background":"#ecf0f1","border":"#34495e"}},{"id":"glass_slipper","label":"ガラスの靴","title":"ガラスの靴\n魔法で与えられた特別な靴。後にシンデレラを見つける決め手となる\nStatus: resolved","shape":"diamond","color":{"background":"#27ae60","border":"#2c3e50"}},{"id":"chapter_chapter_05","label":"chapter_05","title":"Chapter: chapter_05","shape":"box","color":{"background":"#ecf0f1","border":"#34495e"}}],"edges":[{"from":"chapter_chapter_01","to":"kind_heart","label":"設置","color":{"color":"#f39c12"},"arrows":"to","width":2},{"from":"kind_heart","to":"chapter_chapter_06","label":"回収 (100%)","color":{"color":"#27ae60"},"arrows":"to","width":2},{"from":"chapter_chapter_02","to":"midnight_deadline","label":"設置","color":{"color":"#f39c12"},"arrows":"to","width":2},{"from":"midnight_deadline","to":"chapter_chapter_03","label":"回収 (100%)","color":{"color":"#27ae60"},"arrows":"to","width":2},{"from":"chapter_chapter_02","to":"glass_slipper","label":"設置","color":{"color":"#f39c12"},"arrows":"to","width":2},{"from":"glass_slipper","to":"chapter_chapter_05","label":"回収 (100%)","color":{"color":"#27ae60"},"arrows":"to","width":2}],"options":{"nodes":{"font":{"size":12}},"edges":{"smooth":true},"physics":{"enabled":true},"interaction":{"hover":true}}};
        const foreshadowingNetwork = new vis.Network(
          foreshadowingContainer,
          { nodes: new vis.DataSet(foreshadowingData.nodes), edges: new vis.DataSet(foreshadowingData.edges) },
          foreshadowingData.options || {}
        );
      }
    });
  </script>
</body>
</html>